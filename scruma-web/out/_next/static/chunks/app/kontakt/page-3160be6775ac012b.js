(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[768,761,801,825,75,815,223,853,744,358,90,985],{3059:function(t,e,n){Promise.resolve().then(n.bind(n,5373))},5373:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return CmsPage}});var r=n(7437),i=n(2265),a=n(4402),c=n(932),s=n(6574),o=n(793),l=n(9172);function CmsPage(t){let{slug:e}=t,[n,u]=(0,i.useState)(null),[d,f]=(0,i.useState)(null);async function load(){f(null);try{let t=await (0,l.H6)(e);if(!(null==t?void 0:t.page)){f("Садржај није унет у админ панел.");return}u(t.page)}catch(t){(null==t?void 0:t.status)===404?f("Садржај није унет у админ панел (404)."):f((null==t?void 0:t.message)||"Грешка при учитавању странице.")}}return((0,i.useEffect)(()=>{load()},[e]),d)?(0,r.jsx)(s.c,{title:"Страница није доступна",details:d,onRetry:load}):n?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:n.title,subtitle:n.subtitle||"",image:n.hero_image||""}),(0,r.jsx)("section",{className:"pageSection",children:(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:"prose",dangerouslySetInnerHTML:{__html:n.body_html||n.body||""}})})})]}):(0,r.jsxs)("div",{className:"space-y-4 p-4",children:[(0,r.jsx)(o.q,{className:"h-[260px] w-full"}),(0,r.jsx)(o.q,{className:"h-[420px] w-full"})]})}},4402:function(t,e,n){"use strict";n.d(e,{Z:function(){return Container}});var r=n(7437);function Container(t){let{children:e}=t;return(0,r.jsx)("div",{className:"container",children:e})}},1749:function(t,e,n){"use strict";n.d(e,{Z:function(){return Hero}});var r=n(7437),i=n(1396),a=n.n(i),c=n(7240),s=n(4402);function Hero(t){let{title:e,subtitle:n,image:i,ctas:o}=t;return(0,r.jsxs)("section",{className:"hero","aria-label":(0,c.W)("Херо секција"),children:[(0,r.jsx)("div",{className:"heroMedia",style:{backgroundImage:"url(".concat(i,")")}}),(0,r.jsx)("div",{className:"heroOverlay"}),(0,r.jsx)(s.Z,{children:(0,r.jsxs)("div",{className:"heroContent",children:[(0,r.jsx)("h1",{className:"heroTitle",children:(0,c.W)(e)}),(0,r.jsx)("p",{className:"heroSubtitle",children:(0,c.W)(n)}),(0,r.jsx)("div",{className:"heroCtas",children:o.map(t=>(0,r.jsx)(a(),{className:"btn btnPrimary",href:t.href,children:(0,c.W)(t.title)},t.href))})]})})]})}},932:function(t,e,n){"use strict";n.d(e,{Z:function(){return PageHero}});var r=n(7437),i=n(1749);function PageHero(t){let{title:e,subtitle:n,image:a}=t;return(0,r.jsx)(i.Z,{title:e,subtitle:n,image:a||"/images/placeholders/events-hero.jpg",ctas:[]})}},7240:function(t,e,n){"use strict";n.d(e,{Z:function(){return ScriptToggle},W:function(){return useScriptText}});var r=n(7437),i=n(2265);let a={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=t=>t.split("").map(t=>{var e;return null!==(e=a[t])&&void 0!==e?e:t}).join(""),c="script-change",readScript=()=>{var t;return null!==(t=localStorage.getItem("script"))&&void 0!==t?t:"cyrl"},useScriptText=t=>{let[e,n]=(0,i.useState)("cyrl");return(0,i.useEffect)(()=>{let apply=()=>n("latn"===readScript()?"latn":"cyrl");return apply(),window.addEventListener(c,apply),()=>window.removeEventListener(c,apply)},[]),"latn"===e?toLatin(t):t};function ScriptToggle(t){let{className:e,id:n}=t,[a,s]=(0,i.useState)("cyrl");return(0,i.useEffect)(()=>{let t="latn"===readScript()?"latn":"cyrl";s(t),document.documentElement.setAttribute("data-script",t)},[]),(0,r.jsx)("button",{id:n,className:e,onClick:()=>{let t="cyrl"===a?"latn":"cyrl";s(t),localStorage.setItem("script",t),document.documentElement.setAttribute("data-script",t),window.dispatchEvent(new Event(c))},children:"cyrl"===a?"Латиница":"Ћирилица"})}},6574:function(t,e,n){"use strict";n.d(e,{c:function(){return ApiErrorState}});var r=n(7437);function ApiErrorState(t){let{title:e="Сервис тренутно није доступан",details:n,onRetry:i}=t;return(0,r.jsxs)("div",{className:"rounded-2xl border border-black/10 p-6 dark:border-white/10",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:e}),n?(0,r.jsx)("div",{className:"mt-2 whitespace-pre-wrap text-sm opacity-80",children:n}):null,i?(0,r.jsx)("button",{onClick:i,className:"mt-4 rounded-xl border border-black/15 px-4 py-2 transition hover:shadow-md dark:border-white/15",children:"Покушај поново"}):null]})}},793:function(t,e,n){"use strict";n.d(e,{q:function(){return SkeletonBlock}});var r=n(7437);function SkeletonBlock(t){let{className:e=""}=t;return(0,r.jsx)("div",{className:"animate-pulse rounded-2xl bg-black/10 dark:bg-white/10 ".concat(e)})}},9172:function(t,e,n){"use strict";async function fetchWithTimeout(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AbortController,i=null!==(e=n.timeoutMs)&&void 0!==e?e:8e3,a=setTimeout(()=>r.abort(),i);try{return await fetch(t,{...n,signal:r.signal,cache:"no-store"})}finally{clearTimeout(a)}}async function apiGetJson(t,e){var n;let r=null!==(n=null==e?void 0:e.retries)&&void 0!==n?n:2,i=null;for(let n=0;n<=r;n+=1)try{let n=await fetchWithTimeout(t,{timeoutMs:null==e?void 0:e.timeoutMs});if(!n.ok){let e=await n.text().catch(()=>""),r={status:n.status,message:e||n.statusText||"API грешка",url:t};throw r}return await n.json()}catch(t){if(i=t,n<r){await function(t){return new Promise(e=>setTimeout(e,t))}(350*Math.pow(2,n));continue}throw t}throw i}n.d(e,{Nf:function(){return fetchAnnouncements},el:function(){return fetchApiHealth},tm:function(){return fetchNav},H6:function(){return fetchPage},ux:function(){return fetchPostById},T6:function(){return fetchPosts},IN:function(){return fetchSite},bR:function(){return getApiBaseUrl}});let r="https://scruma-api.onrender.com";if(!r)throw Error("NEXT_PUBLIC_API_BASE_URL није подешен.");let getApiBaseUrl=()=>r;function fetchApiHealth(){return apiGetJson("".concat(r,"/health/"),{timeoutMs:3e3,retries:1})}function fetchSite(){return apiGetJson("".concat(r,"/api/v1/site/"))}function fetchNav(){return apiGetJson("".concat(r,"/api/v1/nav/"))}function fetchPage(t){return apiGetJson("".concat(r,"/api/v1/pages/").concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString();return apiGetJson("".concat(r,"/api/v1/posts/").concat(n?"?".concat(n):""))}function fetchPostById(t){return apiGetJson("".concat(r,"/api/v1/posts/").concat(t,"/"))}function fetchAnnouncements(){return apiGetJson("".concat(r,"/api/v1/announcements/"))}}},function(t){t.O(0,[176,971,472,560],function(){return t(t.s=3059)}),_N_E=t.O()}]);