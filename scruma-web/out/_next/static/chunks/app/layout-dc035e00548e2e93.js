(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8246:function(e,t,n){Promise.resolve().then(n.bind(n,9585)),Promise.resolve().then(n.bind(n,8561)),Promise.resolve().then(n.bind(n,5116)),Promise.resolve().then(n.bind(n,6347)),Promise.resolve().then(n.t.bind(n,2148,23))},9585:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Footer}});var a=n(7437),r=n(2265),s=n(6454),l=n(793);function Footer(){let[e,t]=(0,r.useState)(null),[n,c]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{(async()=>{try{var e;let n=await (0,s.IN)();t(null!==(e=null==n?void 0:n.settings)&&void 0!==e?e:null)}catch(e){c(!0)}})()},[]),!e&&!n)return(0,a.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl space-y-4 px-4 py-10",children:[(0,a.jsx)(l.q,{className:"h-8 w-44"}),(0,a.jsx)(l.q,{className:"h-24 w-full"}),(0,a.jsx)(l.q,{className:"h-4 w-72"})]})});if(n||!e)return(0,a.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,a.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-10 text-sm opacity-80",children:"Сервис није доступан."})});let i=e.footer_columns||[],o=e.footer_logo||"",u=e.footer_bottom_text||"\xa9 2026 СЦ Рума — Званична интернет презентација",d=e.footer_text||"";return(0,a.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,a.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-10",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[o?(0,a.jsx)("img",{src:o,alt:"Футер лого",className:"h-10 w-auto"}):null,(0,a.jsx)("div",{className:"text-sm opacity-80",children:e.site_name||"СЦ Рума"})]}),i.length?(0,a.jsx)("div",{className:"mt-8 grid gap-8 md:grid-cols-3",children:i.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-semibold",children:e.title}),(0,a.jsx)("ul",{className:"mt-3 space-y-2 text-sm opacity-90",children:(e.links||[]).map((e,t)=>(0,a.jsx)("li",{children:(0,a.jsx)("a",{className:"underline-offset-4 hover:underline",href:e.url,children:e.label})},t))})]},t))}):d?(0,a.jsx)("div",{className:"mt-6 text-sm opacity-80",children:d}):null,(0,a.jsx)("div",{className:"mt-10 text-xs opacity-70",children:u})]})})}},8561:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Header}});var a=n(7437),r=n(2265),s=n(1396),l=n.n(s),c=n(8386);function ScriptToggle(e){let{className:t,id:n}=e,{script:s,setScript:l}=(0,c.G)();return(0,r.useEffect)(()=>{document.documentElement.setAttribute("data-script",s)},[s]),(0,a.jsx)("button",{id:n,className:t,onClick:()=>{let e="cyrl"===s?"latn":"cyrl";l(e)},children:"cyrl"===s?"Латиница":"Ћирилица"})}function ThemeToggle(e){let{className:t,id:n}=e,[s,l]=(0,r.useState)(!1),applyTheme=e=>{l(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),document.body.classList.toggle("dark",e),document.body.classList.toggle("light",!e)};return(0,r.useEffect)(()=>{let e=localStorage.getItem("theme");if("dark"===e||"light"===e){applyTheme("dark"===e);return}let t=window.matchMedia("(prefers-color-scheme: dark)").matches;applyTheme(t)},[]),(0,a.jsx)("button",{id:n,className:t,onClick:()=>{let e=!s;applyTheme(e),localStorage.setItem("theme",e?"dark":"light")},children:s?"Светла тема":"Тамна тема"})}var i=n(6454),o=n(793);function Header(){let{t:e}=(0,c.G)(),[t,n]=(0,r.useState)(!1),[s,u]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,v]=(0,r.useState)(null),[x,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let onScroll=()=>n(window.scrollY>80);return onScroll(),window.addEventListener("scroll",onScroll),()=>window.removeEventListener("scroll",onScroll)},[]),(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{let[t,n]=await Promise.all([(0,i.tm)(),(0,i.qD)()]);if(!e)return;m(t.items||[]),v(n.logo||null)}catch(t){if(!e)return;f(!0),g(!0),m([]),v(null)}})(),()=>{e=!1}},[]),(0,r.useEffect)(()=>(document.body.style.overflow=s?"hidden":"",()=>{document.body.style.overflow=""}),[s]);let Logo=t=>{let{className:n}=t;return null!==p||x?p?(0,a.jsx)("img",{src:p,alt:e("Спортски центар Рума"),className:n}):(0,a.jsx)("div",{className:n||"h-9 w-28"}):(0,a.jsx)(o.q,{className:n||"h-9 w-28"})};return(0,a.jsxs)("header",{id:"navbar",className:"navbar".concat(t?" scrolled":""),children:[(0,a.jsx)("div",{className:"nav-shell",children:(0,a.jsxs)("div",{className:"nav-container",children:[(0,a.jsx)(l(),{href:"/",className:"logo-wrapper","aria-label":e("Почетна страница"),children:(0,a.jsx)(Logo,{className:"nav-logo"})}),(0,a.jsx)("nav",{className:"nav-links","aria-label":e("Главна навигација"),children:null===d?[1,2,3,4].map(e=>(0,a.jsx)(o.q,{className:"h-6 w-20"},e)):d.map(t=>(0,a.jsx)(l(),{href:t.href,children:e(t.label)},t.href))}),(0,a.jsxs)("div",{className:"nav-actions",children:[null,(0,a.jsx)(ScriptToggle,{className:"glass-btn",id:"langToggle"}),(0,a.jsx)(ThemeToggle,{className:"glass-btn",id:"themeToggle"})]}),(0,a.jsxs)("button",{type:"button",className:"nav-burger","aria-label":e("Отвори мени"),"aria-expanded":s,onClick:()=>u(e=>!e),children:[(0,a.jsx)("span",{}),(0,a.jsx)("span",{}),(0,a.jsx)("span",{})]})]})}),(0,a.jsxs)("div",{className:"nav-mobile".concat(s?" open":""),"aria-hidden":!s,children:[(0,a.jsx)("button",{type:"button",className:"nav-mobile-overlay","aria-label":e("Затвори мени"),onClick:()=>u(!1)}),(0,a.jsxs)("aside",{className:"nav-mobile-drawer","aria-label":e("Мени"),children:[(0,a.jsxs)("div",{className:"nav-mobile-header",children:[(0,a.jsx)(l(),{href:"/",className:"nav-mobile-logo",onClick:()=>u(!1),children:(0,a.jsx)(Logo,{className:"h-9 w-auto"})}),(0,a.jsx)("button",{type:"button",className:"nav-mobile-close","aria-label":e("Затвори мени"),onClick:()=>u(!1),children:"✕"})]}),(0,a.jsx)("nav",{className:"nav-mobile-links","aria-label":e("Навигација"),children:(d||[]).map(t=>(0,a.jsx)(l(),{href:t.href,onClick:()=>u(!1),children:e(t.label)},t.href))}),(0,a.jsxs)("div",{className:"nav-mobile-actions",children:[(0,a.jsx)(ScriptToggle,{className:"glass-btn",id:"langToggleMobile"}),(0,a.jsx)(ThemeToggle,{className:"glass-btn",id:"themeToggleMobile"})]})]})]})]})}},5116:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return SiteFavicon}});var a=n(2265),r=n(6454);function SiteFavicon(){return(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await (0,r.qD)();if(!e)return;t.favicon&&function(e){let t=document.head;["icon","shortcut icon"].forEach(n=>{let a=t.querySelector('link[rel="'.concat(n,'"]'));a||((a=document.createElement("link")).rel=n,t.appendChild(a)),a.href=e})}(t.favicon)}catch(e){}})(),()=>{e=!1}},[]),null}},793:function(e,t,n){"use strict";n.d(t,{q:function(){return SkeletonBlock}});var a=n(7437);function SkeletonBlock(e){let{className:t=""}=e;return(0,a.jsx)("div",{className:"animate-pulse rounded-2xl bg-black/10 dark:bg-white/10 ".concat(t)})}},6347:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ClientProviders}});var a=n(7437);n(2265);var r=n(8386);function ClientProviders(e){let{children:t}=e;return(0,a.jsx)(r.K,{children:t})}},8386:function(e,t,n){"use strict";n.d(t,{K:function(){return ScriptProvider},G:function(){return useScript}});var a=n(7437),r=n(2265);let s={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=e=>e.split("").map(e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e}).join(""),l=(0,r.createContext)(null);function readScript(){let e=localStorage.getItem("script");return"latn"===e?"latn":"cyrl"}function ScriptProvider(e){let{children:t}=e,[n,s]=(0,r.useState)("cyrl"),setScript=e=>{s(e),localStorage.setItem("script",e),document.documentElement.setAttribute("data-script",e)};(0,r.useEffect)(()=>{let e=readScript();s(e),document.documentElement.setAttribute("data-script",e);let onStorage=e=>{if("script"===e.key){let e=readScript();s(e),document.documentElement.setAttribute("data-script",e)}};return window.addEventListener("storage",onStorage),()=>window.removeEventListener("storage",onStorage)},[]);let c=(0,r.useMemo)(()=>({script:n,setScript,t:e=>"latn"===n?toLatin(e):e}),[n]);return(0,a.jsx)(l.Provider,{value:c,children:t})}function useScript(){let e=(0,r.useContext)(l);if(!e)throw Error("useScript мора бити коришћен унутар <ScriptProvider>.");return e}},6454:function(e,t,n){"use strict";n.d(t,{H6:function(){return fetchPage},IN:function(){return fetchSite},Nf:function(){return fetchAnnouncements},T6:function(){return fetchPosts},bR:function(){return getApiBaseUrl},el:function(){return fetchApiHealth},qD:function(){return fetchSiteSettings},tm:function(){return fetchNav},ux:function(){return fetchPostById}});let a=("https://scruma-api.onrender.com".trim()||"https://scruma-api.onrender.com").replace(/\/+$/,""),getApiBaseUrl=()=>a;async function fetchJson(e,t){let n="".concat(a).concat(e.startsWith("/")?"":"/").concat(e),r=await fetch(n,{...t,headers:{Accept:"application/json",...(null==t?void 0:t.headers)||{}},cache:"no-store"});if(!r.ok){let e=await r.text().catch(()=>"");throw Error("API ".concat(r.status," ").concat(r.statusText,": ").concat(e||n))}return await r.json()}function fetchApiHealth(){return fetchJson("/health/")}function fetchSite(){return fetchJson("/api/v1/site/")}async function fetchSiteSettings(){let e=await fetchSite();return e.settings||{}}function fetchNav(){return fetchJson("/api/v1/nav/")}function fetchPage(e){return fetchJson("/api/v1/pages/".concat(e.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(e){let t=new URLSearchParams;e.type&&t.set("type",e.type),e.limit&&t.set("limit",String(e.limit));let n=t.toString()?"?".concat(t.toString()):"";return fetchJson("/api/v1/posts/".concat(n))}function fetchPostById(e){return fetchJson("/api/v1/posts/".concat(e,"/"))}function fetchAnnouncements(){return fetchJson("/api/v1/announcements/")}},2148:function(){}},function(e){e.O(0,[176,971,472,560],function(){return e(e.s=8246)}),_N_E=e.O()}]);