(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{7984:function(e,t,a){Promise.resolve().then(a.bind(a,9585)),Promise.resolve().then(a.bind(a,7965)),Promise.resolve().then(a.t.bind(a,2148,23))},9585:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Footer}});var n=a(7437),l=a(2265),s=a(9671),r=a(793);function Footer(){let[e,t]=(0,l.useState)(null),[a,i]=(0,l.useState)(!1);if((0,l.useEffect)(()=>{(async()=>{try{var e;let a=await (0,s.IN)();t(null!==(e=null==a?void 0:a.settings)&&void 0!==e?e:null)}catch(e){i(!0)}})()},[]),!e&&!a)return(0,n.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl space-y-4 px-4 py-10",children:[(0,n.jsx)(r.q,{className:"h-8 w-44"}),(0,n.jsx)(r.q,{className:"h-24 w-full"}),(0,n.jsx)(r.q,{className:"h-4 w-72"})]})});if(a||!e)return(0,n.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,n.jsx)("div",{className:"mx-auto max-w-6xl px-4 py-10 text-sm opacity-80",children:"Сервис није доступан."})});let c=e.footer_columns||[],o=e.footer_logo||"",u=e.footer_bottom_text||"\xa9 2026 СЦ Рума — Званична интернет презентација",d=e.footer_text||"";return(0,n.jsx)("footer",{className:"mt-16 border-t border-black/10 dark:border-white/10",children:(0,n.jsxs)("div",{className:"mx-auto max-w-6xl px-4 py-10",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[o?(0,n.jsx)("img",{src:o,alt:"Футер лого",className:"h-10 w-auto"}):null,(0,n.jsx)("div",{className:"text-sm opacity-80",children:e.site_name||"СЦ Рума"})]}),c.length?(0,n.jsx)("div",{className:"mt-8 grid gap-8 md:grid-cols-3",children:c.map((e,t)=>(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"text-sm font-semibold",children:e.title}),(0,n.jsx)("ul",{className:"mt-3 space-y-2 text-sm opacity-90",children:(e.links||[]).map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{className:"underline-offset-4 hover:underline",href:e.url,children:e.label})},t))})]},t))}):d?(0,n.jsx)("div",{className:"mt-6 text-sm opacity-80",children:d}):null,(0,n.jsx)("div",{className:"mt-10 text-xs opacity-70",children:u})]})})}},7965:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Header}});var n=a(7437),l=a(2265),s=a(1396),r=a.n(s),i=a(7240);function ThemeToggle(e){let{className:t,id:a}=e,[s,r]=(0,l.useState)(!1),applyTheme=e=>{r(e),document.documentElement.setAttribute("data-theme",e?"dark":"light"),document.body.classList.toggle("dark",e),document.body.classList.toggle("light",!e)};return(0,l.useEffect)(()=>{let e=localStorage.getItem("theme");if("dark"===e||"light"===e){applyTheme("dark"===e);return}let t=window.matchMedia("(prefers-color-scheme: dark)").matches;applyTheme(t)},[]),(0,n.jsx)("button",{id:a,className:t,onClick:()=>{let e=!s;applyTheme(e),localStorage.setItem("theme",e?"dark":"light")},children:s?"Светла тема":"Тамна тема"})}var c=a(9671),o=a(793);function Header(){let[e,t]=(0,l.useState)(!1),[a,s]=(0,l.useState)(!1),[u,d]=(0,l.useState)(null),[m,h]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let onScroll=()=>t(window.scrollY>80);return onScroll(),window.addEventListener("scroll",onScroll),()=>window.removeEventListener("scroll",onScroll)},[]),(0,l.useEffect)(()=>{let e=!0;return(async()=>{try{let t=await (0,c.tm)();if(!e)return;d(t.items||[])}catch(t){if(!e)return;h(!0),d([])}})(),()=>{e=!1}},[]),(0,l.useEffect)(()=>(document.body.style.overflow=a?"hidden":"",()=>{document.body.style.overflow=""}),[a]),(0,n.jsxs)("header",{id:"navbar",className:"navbar".concat(e?" scrolled":""),children:[(0,n.jsx)("div",{className:"nav-shell",children:(0,n.jsxs)("div",{className:"nav-container",children:[(0,n.jsx)(r(),{href:"/",className:"logo-wrapper","aria-label":(0,i.W)("Почетна страница"),children:(0,n.jsx)("img",{src:"/images/logo.svg",alt:(0,i.W)("Спортски центар Рума"),className:"nav-logo"})}),(0,n.jsx)("nav",{className:"nav-links","aria-label":(0,i.W)("Главна навигација"),children:null===u?[1,2,3,4].map(e=>(0,n.jsx)(o.q,{className:"h-6 w-20"},e)):u.map(e=>(0,n.jsx)(r(),{href:e.href,children:(0,i.W)(e.label)},e.href))}),(0,n.jsxs)("div",{className:"nav-actions",children:[null,(0,n.jsx)(i.Z,{className:"glass-btn",id:"langToggle"}),(0,n.jsx)(ThemeToggle,{className:"glass-btn",id:"themeToggle"})]}),(0,n.jsxs)("button",{type:"button",className:"nav-burger","aria-label":(0,i.W)("Отвори мени"),"aria-expanded":a,onClick:()=>s(e=>!e),children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})]})}),(0,n.jsxs)("div",{className:"nav-mobile".concat(a?" open":""),"aria-hidden":!a,children:[(0,n.jsx)("button",{type:"button",className:"nav-mobile-overlay","aria-label":(0,i.W)("Затвори мени"),onClick:()=>s(!1)}),(0,n.jsxs)("aside",{className:"nav-mobile-drawer","aria-label":(0,i.W)("Мени"),children:[(0,n.jsxs)("div",{className:"nav-mobile-header",children:[(0,n.jsx)(r(),{href:"/",className:"nav-mobile-logo",onClick:()=>s(!1),children:(0,n.jsx)("img",{src:"/images/logo.svg",alt:(0,i.W)("Спортски центар Рума")})}),(0,n.jsx)("button",{type:"button",className:"nav-mobile-close","aria-label":(0,i.W)("Затвори мени"),onClick:()=>s(!1),children:"✕"})]}),(0,n.jsx)("nav",{className:"nav-mobile-links","aria-label":(0,i.W)("Навигација"),children:(u||[]).map(e=>(0,n.jsx)(r(),{href:e.href,onClick:()=>s(!1),children:(0,i.W)(e.label)},e.href))}),(0,n.jsxs)("div",{className:"nav-mobile-actions",children:[(0,n.jsx)(i.Z,{className:"glass-btn",id:"langToggleMobile"}),(0,n.jsx)(ThemeToggle,{className:"glass-btn",id:"themeToggleMobile"})]})]})]})]})}},7240:function(e,t,a){"use strict";a.d(t,{Z:function(){return ScriptToggle},W:function(){return useScriptText}});var n=a(7437),l=a(2265);let s={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=e=>e.split("").map(e=>{var t;return null!==(t=s[e])&&void 0!==t?t:e}).join(""),r="script-change",readScript=()=>{var e;return null!==(e=localStorage.getItem("script"))&&void 0!==e?e:"cyrl"},useScriptText=e=>{let[t,a]=(0,l.useState)("cyrl");return(0,l.useEffect)(()=>{let apply=()=>a("latn"===readScript()?"latn":"cyrl");return apply(),window.addEventListener(r,apply),()=>window.removeEventListener(r,apply)},[]),"latn"===t?toLatin(e):e};function ScriptToggle(e){let{className:t,id:a}=e,[s,i]=(0,l.useState)("cyrl");return(0,l.useEffect)(()=>{let e="latn"===readScript()?"latn":"cyrl";i(e),document.documentElement.setAttribute("data-script",e)},[]),(0,n.jsx)("button",{id:a,className:t,onClick:()=>{let e="cyrl"===s?"latn":"cyrl";i(e),localStorage.setItem("script",e),document.documentElement.setAttribute("data-script",e),window.dispatchEvent(new Event(r))},children:"cyrl"===s?"Латиница":"Ћирилица"})}},793:function(e,t,a){"use strict";a.d(t,{q:function(){return SkeletonBlock}});var n=a(7437);function SkeletonBlock(e){let{className:t=""}=e;return(0,n.jsx)("div",{className:"animate-pulse rounded-2xl bg-black/10 dark:bg-white/10 ".concat(t)})}},9671:function(e,t,a){"use strict";async function fetchWithTimeout(e){var t;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new AbortController,l=null!==(t=a.timeoutMs)&&void 0!==t?t:8e3,s=setTimeout(()=>n.abort(),l);try{return await fetch(e,{...a,signal:n.signal,cache:"no-store"})}finally{clearTimeout(s)}}async function apiGetJson(e,t){var a;let n=null!==(a=null==t?void 0:t.retries)&&void 0!==a?a:2,l=null;for(let a=0;a<=n;a+=1)try{let a=await fetchWithTimeout(e,{timeoutMs:null==t?void 0:t.timeoutMs});if(!a.ok){let t=await a.text().catch(()=>""),n={status:a.status,message:t||a.statusText||"API грешка",url:e};throw n}return await a.json()}catch(e){if(l=e,a<n){await function(e){return new Promise(t=>setTimeout(t,e))}(350*Math.pow(2,a));continue}throw e}throw l}a.d(t,{Nf:function(){return fetchAnnouncements},el:function(){return fetchApiHealth},tm:function(){return fetchNav},H6:function(){return fetchPage},ux:function(){return fetchPostById},T6:function(){return fetchPosts},IN:function(){return fetchSite},bR:function(){return getApiBaseUrl}});let n="https://scruma-api.onrender.com",getApiBaseUrl=()=>n;function fetchApiHealth(){return apiGetJson("".concat(n,"/health/"),{timeoutMs:3e3,retries:1})}function fetchSite(){return apiGetJson("".concat(n,"/api/v1/site/"))}function fetchNav(){return apiGetJson("".concat(n,"/api/v1/nav/"))}function fetchPage(e){return apiGetJson("".concat(n,"/api/v1/pages/").concat(e.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(e){let t=new URLSearchParams;e.type&&t.set("type",e.type),e.limit&&t.set("limit",String(e.limit));let a=t.toString();return apiGetJson("".concat(n,"/api/v1/posts/").concat(a?"?".concat(a):""))}function fetchPostById(e){return apiGetJson("".concat(n,"/api/v1/posts/").concat(e,"/"))}function fetchAnnouncements(){return apiGetJson("".concat(n,"/api/v1/announcements/"))}},2148:function(){}},function(e){e.O(0,[176,971,472,560],function(){return e(e.s=7984)}),_N_E=e.O()}]);