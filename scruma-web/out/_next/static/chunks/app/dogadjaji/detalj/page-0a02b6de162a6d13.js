(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[370],{5437:function(t,e,n){Promise.resolve().then(n.bind(n,4476))},4476:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return DogadjajiDetaljPage}});var r=n(7437),c=n(4033),o=n(2265),a=n(6454),i=n(793),s=n(6574);function DogadjajiDetaljPage(){let t=(0,c.useSearchParams)(),e=t.get("id"),[n,u]=(0,o.useState)(null),[l,f]=(0,o.useState)(null);async function load(){if(!e)return f("Недостаје параметар id.");f(null);try{u(await (0,a.ux)(e))}catch(t){f((null==t?void 0:t.message)||"Грешка при учитавању догађаја.")}}return((0,o.useEffect)(()=>{load()},[e]),l)?(0,r.jsx)(s.c,{title:"Догађај није доступан",details:l,onRetry:load}):n?(0,r.jsxs)("article",{className:"prose mx-auto max-w-4xl px-4 py-10 dark:prose-invert",children:[(0,r.jsx)("h1",{children:n.title}),(0,r.jsx)("div",{className:"text-sm opacity-70",children:n.published_at}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.body_html||n.body||""}})]}):(0,r.jsx)(i.q,{className:"h-[520px] w-full"})}},6574:function(t,e,n){"use strict";n.d(e,{c:function(){return ApiErrorState}});var r=n(7437);function ApiErrorState(t){let{title:e="Сервис тренутно није доступан",details:n,onRetry:c}=t;return(0,r.jsxs)("div",{className:"rounded-2xl border border-black/10 p-6 dark:border-white/10",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:e}),n?(0,r.jsx)("div",{className:"mt-2 whitespace-pre-wrap text-sm opacity-80",children:n}):null,c?(0,r.jsx)("button",{onClick:c,className:"mt-4 rounded-xl border border-black/15 px-4 py-2 transition hover:shadow-md dark:border-white/15",children:"Покушај поново"}):null]})}},793:function(t,e,n){"use strict";n.d(e,{q:function(){return SkeletonBlock}});var r=n(7437);function SkeletonBlock(t){let{className:e=""}=t;return(0,r.jsx)("div",{className:"animate-pulse rounded-2xl bg-black/10 dark:bg-white/10 ".concat(e)})}},6454:function(t,e,n){"use strict";n.d(e,{H6:function(){return fetchPage},IN:function(){return fetchSite},Nf:function(){return fetchAnnouncements},T6:function(){return fetchPosts},bR:function(){return getApiBaseUrl},el:function(){return fetchApiHealth},qD:function(){return fetchSiteSettings},tm:function(){return fetchNav},ux:function(){return fetchPostById}});let r=("https://scruma-api.onrender.com".trim()||"https://scruma-api.onrender.com").replace(/\/+$/,""),getApiBaseUrl=()=>r;async function fetchJson(t,e){let n="".concat(r).concat(t.startsWith("/")?"":"/").concat(t),c=await fetch(n,{...e,headers:{Accept:"application/json",...(null==e?void 0:e.headers)||{}},cache:"no-store"});if(!c.ok){let t=await c.text().catch(()=>"");throw Error("API ".concat(c.status," ").concat(c.statusText,": ").concat(t||n))}return await c.json()}function fetchApiHealth(){return fetchJson("/health/")}function fetchSite(){return fetchJson("/api/v1/site/")}async function fetchSiteSettings(){let t=await fetchSite();return t.settings||{}}function fetchNav(){return fetchJson("/api/v1/nav/")}function fetchPage(t){return fetchJson("/api/v1/pages/".concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString()?"?".concat(e.toString()):"";return fetchJson("/api/v1/posts/".concat(n))}function fetchPostById(t){return fetchJson("/api/v1/posts/".concat(t,"/"))}function fetchAnnouncements(){return fetchJson("/api/v1/announcements/")}},622:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),c=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function q(t,e,n){var r,o={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!s.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:c,type:t,key:u,ref:l,props:o,_owner:i.current}}e.Fragment=o,e.jsx=q,e.jsxs=q},7437:function(t,e,n){"use strict";t.exports=n(622)},4033:function(t,e,n){t.exports=n(94)}},function(t){t.O(0,[971,472,560],function(){return t(t.s=5437)}),_N_E=t.O()}]);