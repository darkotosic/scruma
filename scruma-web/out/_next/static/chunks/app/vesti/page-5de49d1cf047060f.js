(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[430],{1442:function(e,t,r){Promise.resolve().then(r.bind(r,2673))},2673:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return VestiPage}});var n=r(7437),a=r(2265),i=r(932),s=r(4402);function Section(e){let{children:t}=e;return(0,n.jsx)("section",{className:"pageSection",children:(0,n.jsx)(s.Z,{children:t})})}var c=r(9023);function CardsGrid(e){let{items:t}=e;return(0,n.jsx)(c.Z,{items:t.map(e=>({title:e.title,subtitle:e.excerpt,href:e.href,image:e.image,date:e.meta}))})}var l=r(6454);function VestiPage(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{try{let e=await (0,l.rd)("/api/v1/posts/?type=news");t((null==e?void 0:e.items)||[])}catch(e){t([])}finally{s(!1)}})()},[]);let c=(0,a.useMemo)(()=>e.map(e=>({title:e.title,excerpt:e.excerpt||"",href:"/vesti/".concat(e.id||"").trim(),image:e.image||void 0,meta:e.published_at?new Date(e.published_at).toLocaleDateString("sr-RS"):""})),[e]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{title:"Вести",subtitle:"Најновије информације и саопштења."}),(0,n.jsx)(Section,{children:r?(0,n.jsx)("p",{children:"Учитавање..."}):c.length?(0,n.jsx)(CardsGrid,{items:c}):(0,n.jsx)("p",{children:"Нема објава."})})]})}},9023:function(e,t,r){"use strict";r.d(t,{Z:function(){return CardGrid}});var n=r(7437),a=r(1396),i=r.n(a),s=r(7240);function CardGrid(e){let{items:t}=e;return(0,n.jsx)("div",{className:"grid",children:t.map(e=>{var t;let r=(0,n.jsxs)("div",{className:"card",children:[e.image?(0,n.jsx)("div",{className:"cardMedia",children:(0,n.jsx)("img",{src:e.image,alt:(0,s.W)(e.title),loading:"lazy"})}):null,(0,n.jsxs)("div",{className:"cardBody",children:[(0,n.jsxs)("div",{className:"cardTop",children:[e.tag?(0,n.jsx)("span",{className:"badge",children:(0,s.W)(e.tag)}):null,e.date?(0,n.jsx)("span",{className:"muted",children:(0,s.W)(e.date)}):null]}),(0,n.jsx)("h3",{className:"cardTitle",children:(0,s.W)(e.title)}),e.subtitle?(0,n.jsx)("p",{className:"cardSubtitle",children:(0,s.W)(e.subtitle)}):null,e.href?(0,n.jsx)("span",{className:"cardLink",children:(0,s.W)("Сазнајте више")}):null]})]});return e.href?(0,n.jsx)(i(),{className:"cardLinkWrap",href:e.href,children:r},"".concat(e.title,"-").concat(e.href)):(0,n.jsx)("div",{children:r},"".concat(e.title,"-").concat(null!==(t=e.date)&&void 0!==t?t:""))})})}},4402:function(e,t,r){"use strict";r.d(t,{Z:function(){return Container}});var n=r(7437);function Container(e){let{children:t}=e;return(0,n.jsx)("div",{className:"container",children:t})}},1749:function(e,t,r){"use strict";r.d(t,{Z:function(){return Hero}});var n=r(7437),a=r(1396),i=r.n(a),s=r(7240),c=r(4402);function Hero(e){let{title:t,subtitle:r,image:a,ctas:l}=e;return(0,n.jsxs)("section",{className:"hero","aria-label":(0,s.W)("Херо секција"),children:[(0,n.jsx)("div",{className:"heroMedia",style:{backgroundImage:"url(".concat(a,")")}}),(0,n.jsx)("div",{className:"heroOverlay"}),(0,n.jsx)(c.Z,{children:(0,n.jsxs)("div",{className:"heroContent",children:[(0,n.jsx)("h1",{className:"heroTitle",children:(0,s.W)(t)}),(0,n.jsx)("p",{className:"heroSubtitle",children:(0,s.W)(r)}),(0,n.jsx)("div",{className:"heroCtas",children:l.map(e=>(0,n.jsx)(i(),{className:"btn btnPrimary",href:e.href,children:(0,s.W)(e.title)},e.href))})]})})]})}},932:function(e,t,r){"use strict";r.d(t,{Z:function(){return PageHero}});var n=r(7437),a=r(1749);function PageHero(e){let{title:t,subtitle:r,image:i}=e;return(0,n.jsx)(a.Z,{title:t,subtitle:r,image:i||"/images/placeholders/events-hero.jpg",ctas:[]})}},7240:function(e,t,r){"use strict";r.d(t,{Z:function(){return ScriptToggle},W:function(){return useScriptText}});var n=r(7437),a=r(2265);let i={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=e=>e.split("").map(e=>{var t;return null!==(t=i[e])&&void 0!==t?t:e}).join(""),s="script-change",readScript=()=>{var e;return null!==(e=localStorage.getItem("script"))&&void 0!==e?e:"cyrl"},useScriptText=e=>{let[t,r]=(0,a.useState)("cyrl");return(0,a.useEffect)(()=>{let apply=()=>r("latn"===readScript()?"latn":"cyrl");return apply(),window.addEventListener(s,apply),()=>window.removeEventListener(s,apply)},[]),"latn"===t?toLatin(e):e};function ScriptToggle(e){let{className:t,id:r}=e,[i,c]=(0,a.useState)("cyrl");return(0,a.useEffect)(()=>{let e="latn"===readScript()?"latn":"cyrl";c(e),document.documentElement.setAttribute("data-script",e)},[]),(0,n.jsx)("button",{id:r,className:t,onClick:()=>{let e="cyrl"===i?"latn":"cyrl";c(e),localStorage.setItem("script",e),document.documentElement.setAttribute("data-script",e),window.dispatchEvent(new Event(s))},children:"cyrl"===i?"Латиница":"Ћирилица"})}},6454:function(e,t,r){"use strict";r.d(t,{bR:function(){return getApiBaseUrl},el:function(){return fetchApiHealth},rd:function(){return fetchJson}});var n,a=r(2601);let i=null!==(n=a.env.NEXT_PUBLIC_API_BASE_URL)&&void 0!==n?n:"https://scruma-api.onrender.com",getApiBaseUrl=()=>i,fetchApiHealth=async()=>{try{let e=new AbortController,t=setTimeout(()=>e.abort(),3e3),r=await fetch("".concat(i,"/api/health/"),{signal:e.signal});if(clearTimeout(t),!r.ok)return{ok:!1,message:"API је доступан, али враћа грешку."};return{ok:!0,message:"API је доступан."}}catch(e){return{ok:!1,message:"API није доступан."}}};async function fetchJson(e){let t=new AbortController,r=setTimeout(()=>t.abort(),3500);try{let r=await fetch("".concat(i).concat(e),{signal:t.signal,cache:"no-store"});if(!r.ok)throw Error("HTTP ".concat(r.status));return await r.json()}finally{clearTimeout(r)}}}},function(e){e.O(0,[922,971,472,560],function(){return e(e.s=1442)}),_N_E=e.O()}]);