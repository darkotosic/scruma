(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{984:function(t,e,n){Promise.resolve().then(n.bind(n,6376))},6376:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return HomeClient}});var r=n(7437),s=n(2265),i=n(9023),a=n(4402),c=n(1749),l=n(8386);function SectionHeader(t){let{title:e,subtitle:n}=t,{t:s}=(0,l.G)();return(0,r.jsxs)("div",{className:"sectionHeader",children:[(0,r.jsx)("h2",{className:"sectionTitle",children:s(e)}),n?(0,r.jsx)("p",{className:"sectionSubtitle",children:s(n)}):null]})}var o=n(6574),d=n(5776),u=n(6454),m=n(9158);function mapPostsToCards(t,e){return t.map(t=>(0,m.EM)(t,e(t)))}function HomeClient(){var t,e,n,l;let[m,h]=(0,s.useState)(null),[f,p]=(0,s.useState)(null);async function load(){p(null);try{let[t,e,n,r]=await Promise.all([(0,u.IN)(),(0,u.T6)({type:"notice",limit:6}),(0,u.T6)({type:"news",limit:6}),(0,u.T6)({type:"sport",limit:6})]);h({site:t,notice:e,news:n,sport:r})}catch(n){let t="string"==typeof(null==n?void 0:n.message)?n.message:"Неуспешно учитавање података са API-ја.",e="number"==typeof(null==n?void 0:n.status)?"Код: ".concat(n.status):"";p([t,e].filter(Boolean).join("\n"))}}if((0,s.useEffect)(()=>{load()},[]),f)return(0,r.jsx)(o.c,{details:f,onRetry:load});if(!m)return(0,r.jsx)(d.c,{variant:"loading",title:"Учитавање садржаја",details:"Подаци се преузимају са CMS сервиса."});let j=(null===(t=m.site)||void 0===t?void 0:t.settings)||{},v=j.maps_embed_url||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2371.9892932982493!2d19.81602735723908!3d45.00895641435489!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x475babf00502b12f%3A0xa91ad9140edc7e6a!2z0KHQv9C-0YDRgtGB0LrQviDQv9C-0YHQu9C-0LLQvdC4INGG0LXQvdGC0LDRgA!5e0!3m2!1sen!2srs!4v1771836152435!5m2!1sen!2srs",x=mapPostsToCards((null===(e=m.notice)||void 0===e?void 0:e.items)||[],t=>"/obavestenja/detalj/?id=".concat(t.id)),g=mapPostsToCards((null===(n=m.news)||void 0===n?void 0:n.items)||[],t=>"/vesti/detalj/?id=".concat(t.id)),S=mapPostsToCards((null===(l=m.sport)||void 0===l?void 0:l.items)||[],t=>"/dogadjaji/detalj/?id=".concat(t.id));return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z,{title:j.hero_title||"Садржај није унет у админ панел",subtitle:j.hero_subtitle||"",image:j.hero_image||"",ctas:[{title:"Контакт",href:"/kontakt"},{title:"Сале",href:"/sale"}]}),(0,r.jsx)("section",{className:"pageSection",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(SectionHeader,{title:"Обавештења",subtitle:"Најважније информације."}),x.length?(0,r.jsx)(i.Z,{items:x}):(0,r.jsx)(d.c,{variant:"empty",title:"Садржај још није унет",details:"Обавештења ће бити приказана чим се унесу у админ панел."})]})}),(0,r.jsx)("section",{className:"pageSection",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(SectionHeader,{title:"Вести",subtitle:"Најновија дешавања."}),g.length?(0,r.jsx)(i.Z,{items:g}):(0,r.jsx)(d.c,{variant:"empty",title:"Садржај још није унет",details:"Вести ће бити приказане чим се унесу у админ панел."})]})}),(0,r.jsx)("section",{className:"pageSection",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(SectionHeader,{title:"Спортске вести",subtitle:"Резултати, најаве и локални спорт."}),S.length?(0,r.jsx)(i.Z,{items:S}):(0,r.jsx)(d.c,{variant:"empty",title:"Садржај још није унет",details:"Спортски догађаји ће бити приказани чим се унесу у админ панел."})]})}),(0,r.jsx)("section",{className:"pageSection",children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(SectionHeader,{title:"Како до нас",subtitle:"Локација и приступ спортском центру."}),(0,r.jsx)("div",{className:"map-wrapper",children:(0,r.jsx)("iframe",{src:v,loading:"lazy",allowFullScreen:!0})}),(0,r.jsxs)("p",{children:["Ако се мапа не учита, отворите локацију директно:\xa0",(0,r.jsx)("a",{href:"https://www.google.com/maps/place/Спортско+пословни+центар/@45.0089564,19.8160274,17.25z/data=!4m6!3m5!1s0x475babf00502b12f:0xa91ad9140edc7e6a!8m2!3d45.0087316!4d19.8203575!16s%2Fg%2F11f1vm7wr4?entry=ttu&g_ep=EgoyMDI2MDIxOC4wIKXMDSoASAFQAw%3D%3D",target:"_blank",rel:"noopener noreferrer",children:"Отвори у Google мапама"}),"."]})]})})]})}},9023:function(t,e,n){"use strict";n.d(e,{Z:function(){return CardGrid}});var r=n(7437),s=n(1396),i=n.n(s),a=n(8386);function CardGrid(t){let{items:e}=t,{t:n}=(0,a.G)();return(0,r.jsx)("div",{className:"grid",children:e.map(t=>{var e;let s=(0,r.jsxs)("div",{className:"card",children:[t.image?(0,r.jsx)("div",{className:"cardMedia",children:(0,r.jsx)("img",{src:t.image,alt:n(t.title),loading:"lazy"})}):null,(0,r.jsxs)("div",{className:"cardBody",children:[(0,r.jsxs)("div",{className:"cardTop",children:[t.tag?(0,r.jsx)("span",{className:"badge",children:n(t.tag)}):null,t.date?(0,r.jsx)("span",{className:"muted",children:n(t.date)}):null]}),(0,r.jsx)("h3",{className:"cardTitle",children:n(t.title)}),t.subtitle?(0,r.jsx)("p",{className:"cardSubtitle",children:n(t.subtitle)}):null,t.href?(0,r.jsx)("span",{className:"cardLink",children:n("Сазнајте више")}):null]})]});return t.href?(0,r.jsx)(i(),{className:"cardLinkWrap",href:t.href,children:s},"".concat(t.title,"-").concat(t.href)):(0,r.jsx)("div",{children:s},"".concat(t.title,"-").concat(null!==(e=t.date)&&void 0!==e?e:""))})})}},4402:function(t,e,n){"use strict";n.d(e,{Z:function(){return Container}});var r=n(7437);function Container(t){let{children:e}=t;return(0,r.jsx)("div",{className:"container",children:e})}},1749:function(t,e,n){"use strict";n.d(e,{Z:function(){return Hero}});var r=n(7437),s=n(1396),i=n.n(s),a=n(8386),c=n(4402);function Hero(t){let{title:e,subtitle:n,image:s,ctas:l}=t,{t:o}=(0,a.G)(),d=n.replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").trim();return(0,r.jsxs)("section",{className:"hero","aria-label":o("Херо секција"),children:[(0,r.jsx)("div",{className:"heroMedia",style:{backgroundImage:"url(".concat(s,")")}}),(0,r.jsx)("div",{className:"heroOverlay"}),(0,r.jsx)(c.Z,{children:(0,r.jsxs)("div",{className:"heroContent",children:[(0,r.jsx)("h1",{className:"heroTitle",children:o(e)}),d?(0,r.jsx)("p",{className:"heroSubtitle",children:o(d)}):null,(0,r.jsx)("div",{className:"heroCtas",children:l.map(t=>(0,r.jsx)(i(),{className:"btn btnPrimary",href:t.href,children:o(t.title)},t.href))})]})})]})}},6574:function(t,e,n){"use strict";n.d(e,{c:function(){return ApiErrorState}});var r=n(7437),s=n(5776);function ApiErrorState(t){let{title:e="Сервис тренутно није доступан",details:n,onRetry:i}=t;return(0,r.jsx)(s.c,{variant:"error",title:e,details:n,onRetry:i})}},5776:function(t,e,n){"use strict";n.d(e,{c:function(){return StatusState}});var r=n(7437);function StatusState(t){let{variant:e,title:n,details:s,onRetry:i}=t;return(0,r.jsxs)("div",{className:"status-state status-state-".concat(e),role:"error"===e?"alert":"status",children:[(0,r.jsx)("div",{className:"status-state-icon","aria-hidden":"true",children:"loading"===e?"⏳":"empty"===e?"\uD83D\uDCED":"⚠️"}),(0,r.jsx)("h3",{className:"status-state-title",children:n}),s?(0,r.jsx)("p",{className:"status-state-details",children:s}):null,"error"===e&&i?(0,r.jsx)("button",{type:"button",className:"status-state-retry",onClick:i,children:"Покушај поново"}):null]})}},8386:function(t,e,n){"use strict";n.d(e,{K:function(){return ScriptProvider},G:function(){return useScript}});var r=n(7437),s=n(2265);let i={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=t=>t.split("").map(t=>{var e;return null!==(e=i[t])&&void 0!==e?e:t}).join(""),a=(0,s.createContext)(null);function readScript(){let t=localStorage.getItem("script");return"latn"===t?"latn":"cyrl"}function ScriptProvider(t){let{children:e}=t,[n,i]=(0,s.useState)("cyrl"),setScript=t=>{i(t),localStorage.setItem("script",t),document.documentElement.setAttribute("data-script",t)};(0,s.useEffect)(()=>{let t=readScript();i(t),document.documentElement.setAttribute("data-script",t);let onStorage=t=>{if("script"===t.key){let t=readScript();i(t),document.documentElement.setAttribute("data-script",t)}};return window.addEventListener("storage",onStorage),()=>window.removeEventListener("storage",onStorage)},[]);let c=(0,s.useMemo)(()=>({script:n,setScript,t:t=>"latn"===n?toLatin(t):t}),[n]);return(0,r.jsx)(a.Provider,{value:c,children:e})}function useScript(){let t=(0,s.useContext)(a);if(!t)throw Error("useScript мора бити коришћен унутар <ScriptProvider>.");return t}},6454:function(t,e,n){"use strict";n.d(e,{H6:function(){return fetchPage},IN:function(){return fetchSite},T6:function(){return fetchPosts},bR:function(){return getApiBaseUrl},el:function(){return fetchApiHealth},qD:function(){return fetchSiteSettings},ux:function(){return fetchPostById}});let r=("https://scruma-api.onrender.com".trim()||"https://scruma-api.onrender.com").replace(/\/+$/,""),getApiBaseUrl=()=>r;async function fetchJson(t,e){let n="".concat(r).concat(t.startsWith("/")?"":"/").concat(t),s=await fetch(n,{...e,headers:{Accept:"application/json",...(null==e?void 0:e.headers)||{}},cache:"no-store"});if(!s.ok){let t=await s.text().catch(()=>"");throw Error("API ".concat(s.status," ").concat(s.statusText,": ").concat(t||n))}return await s.json()}function fetchApiHealth(){return fetchJson("/health/")}function fetchSite(){return fetchJson("/api/v1/site/")}async function fetchSiteSettings(){let t=await fetchSite();return t.settings||{}}function fetchPage(t){return fetchJson("/api/v1/pages/".concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString()?"?".concat(e.toString()):"";return fetchJson("/api/v1/posts/".concat(n))}function fetchPostById(t){return fetchJson("/api/v1/posts/".concat(t,"/"))}},9158:function(t,e,n){"use strict";function toPreviewText(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:180,n=(t||"").replace(/<[^>]*>/g," ").replace(/&nbsp;/gi," ").replace(/\s+/g," ").trim();return n.length<=e?n:"".concat(n.slice(0,e).trimEnd(),"…")}function mapPostToCard(t,e){let n=t.excerpt||t.body||t.body_html||"";return{title:t.title,subtitle:toPreviewText(n),date:(t.published_at||t.created_at||"").slice(0,10),image:t.image||void 0,href:e}}n.d(e,{EM:function(){return mapPostToCard},vn:function(){return toPreviewText}})}},function(t){t.O(0,[176,971,472,560],function(){return t(t.s=984)}),_N_E=t.O()}]);