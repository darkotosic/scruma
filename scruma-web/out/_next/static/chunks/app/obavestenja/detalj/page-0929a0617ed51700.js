(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[669],{7003:function(t,e,n){Promise.resolve().then(n.bind(n,52))},52:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ObavestenjaDetaljPage}});var r=n(7437),o=n(4033),i=n(2265),a=n(9172),c=n(6574),s=n(793);function ObavestenjaDetaljPage(){let t=(0,o.useSearchParams)(),e=t.get("id"),[n,u]=(0,i.useState)(null),[l,f]=(0,i.useState)(null);async function load(){if(!e)return f("Недостаје параметар id.");f(null);try{let t=await (0,a.Nf)(),n=(t.items||[]).find(t=>String(t.id)===String(e));if(!n){f("Садржај није унет у админ панел.");return}u(n)}catch(t){f((null==t?void 0:t.message)||"Грешка при учитавању обавештења.")}}return((0,i.useEffect)(()=>{load()},[e]),l)?(0,r.jsx)(c.c,{title:"Обавештење није доступно",details:l,onRetry:load}):n?(0,r.jsxs)("article",{className:"prose mx-auto max-w-4xl px-4 py-10 dark:prose-invert",children:[(0,r.jsx)("h1",{children:n.title}),(0,r.jsx)("div",{className:"text-sm opacity-70",children:n.created_at}),(0,r.jsx)("div",{dangerouslySetInnerHTML:{__html:n.body||""}})]}):(0,r.jsx)(s.q,{className:"h-[420px] w-full"})}},6574:function(t,e,n){"use strict";n.d(e,{c:function(){return ApiErrorState}});var r=n(7437);function ApiErrorState(t){let{title:e="Сервис тренутно није доступан",details:n,onRetry:o}=t;return(0,r.jsxs)("div",{className:"rounded-2xl border border-black/10 p-6 dark:border-white/10",children:[(0,r.jsx)("div",{className:"text-lg font-semibold",children:e}),n?(0,r.jsx)("div",{className:"mt-2 whitespace-pre-wrap text-sm opacity-80",children:n}):null,o?(0,r.jsx)("button",{onClick:o,className:"mt-4 rounded-xl border border-black/15 px-4 py-2 transition hover:shadow-md dark:border-white/15",children:"Покушај поново"}):null]})}},793:function(t,e,n){"use strict";n.d(e,{q:function(){return SkeletonBlock}});var r=n(7437);function SkeletonBlock(t){let{className:e=""}=t;return(0,r.jsx)("div",{className:"animate-pulse rounded-2xl bg-black/10 dark:bg-white/10 ".concat(e)})}},9172:function(t,e,n){"use strict";async function fetchWithTimeout(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AbortController,o=null!==(e=n.timeoutMs)&&void 0!==e?e:8e3,i=setTimeout(()=>r.abort(),o);try{return await fetch(t,{...n,signal:r.signal,cache:"no-store"})}finally{clearTimeout(i)}}async function apiGetJson(t,e){var n;let r=null!==(n=null==e?void 0:e.retries)&&void 0!==n?n:2,o=null;for(let n=0;n<=r;n+=1)try{let n=await fetchWithTimeout(t,{timeoutMs:null==e?void 0:e.timeoutMs});if(!n.ok){let e=await n.text().catch(()=>""),r={status:n.status,message:e||n.statusText||"API грешка",url:t};throw r}return await n.json()}catch(t){if(o=t,n<r){await function(t){return new Promise(e=>setTimeout(e,t))}(350*Math.pow(2,n));continue}throw t}throw o}n.d(e,{Nf:function(){return fetchAnnouncements},el:function(){return fetchApiHealth},tm:function(){return fetchNav},H6:function(){return fetchPage},ux:function(){return fetchPostById},T6:function(){return fetchPosts},IN:function(){return fetchSite},bR:function(){return getApiBaseUrl}});let r="https://scruma-api.onrender.com";if(!r)throw Error("NEXT_PUBLIC_API_BASE_URL није подешен.");let getApiBaseUrl=()=>r;function fetchApiHealth(){return apiGetJson("".concat(r,"/health/"),{timeoutMs:3e3,retries:1})}function fetchSite(){return apiGetJson("".concat(r,"/api/v1/site/"))}function fetchNav(){return apiGetJson("".concat(r,"/api/v1/nav/"))}function fetchPage(t){return apiGetJson("".concat(r,"/api/v1/pages/").concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString();return apiGetJson("".concat(r,"/api/v1/posts/").concat(n?"?".concat(n):""))}function fetchPostById(t){return apiGetJson("".concat(r,"/api/v1/posts/").concat(t,"/"))}function fetchAnnouncements(){return apiGetJson("".concat(r,"/api/v1/announcements/"))}},622:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function q(t,e,n){var r,i={},u=null,l=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(l=e.ref),e)a.call(e,r)&&!s.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:o,type:t,key:u,ref:l,props:i,_owner:c.current}}e.Fragment=i,e.jsx=q,e.jsxs=q},7437:function(t,e,n){"use strict";t.exports=n(622)},4033:function(t,e,n){t.exports=n(94)}},function(t){t.O(0,[971,472,560],function(){return t(t.s=7003)}),_N_E=t.O()}]);