(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{3357:function(t,e,n){Promise.resolve().then(n.bind(n,4042))},4042:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ApiHealthPage}});var r=n(7437),c=n(2265),i=n(7240),o=n(9172);function ApiHealthPage(){let[t,e]=(0,c.useState)("Провера API везе је у току...");return(0,c.useEffect)(()=>{(0,o.el)().then(t=>e("ok"===t.status?"API је доступан.":"API није доступан.")).catch(()=>e("API није доступан."))},[]),(0,r.jsxs)("section",{children:[(0,r.jsx)("h1",{children:(0,i.W)("API дијагностика")}),(0,r.jsxs)("p",{children:[(0,i.W)("Базни URL:")," ",(0,o.bR)()]}),(0,r.jsx)("p",{children:(0,i.W)(t)})]})}},7240:function(t,e,n){"use strict";n.d(e,{Z:function(){return ScriptToggle},W:function(){return useScriptText}});var r=n(7437),c=n(2265);let i={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=t=>t.split("").map(t=>{var e;return null!==(e=i[t])&&void 0!==e?e:t}).join(""),o="script-change",readScript=()=>{var t;return null!==(t=localStorage.getItem("script"))&&void 0!==t?t:"cyrl"},useScriptText=t=>{let[e,n]=(0,c.useState)("cyrl");return(0,c.useEffect)(()=>{let apply=()=>n("latn"===readScript()?"latn":"cyrl");return apply(),window.addEventListener(o,apply),()=>window.removeEventListener(o,apply)},[]),"latn"===e?toLatin(t):t};function ScriptToggle(t){let{className:e,id:n}=t,[i,a]=(0,c.useState)("cyrl");return(0,c.useEffect)(()=>{let t="latn"===readScript()?"latn":"cyrl";a(t),document.documentElement.setAttribute("data-script",t)},[]),(0,r.jsx)("button",{id:n,className:e,onClick:()=>{let t="cyrl"===i?"latn":"cyrl";a(t),localStorage.setItem("script",t),document.documentElement.setAttribute("data-script",t),window.dispatchEvent(new Event(o))},children:"cyrl"===i?"Латиница":"Ћирилица"})}},9172:function(t,e,n){"use strict";async function fetchWithTimeout(t){var e;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AbortController,c=null!==(e=n.timeoutMs)&&void 0!==e?e:8e3,i=setTimeout(()=>r.abort(),c);try{return await fetch(t,{...n,signal:r.signal,cache:"no-store"})}finally{clearTimeout(i)}}async function apiGetJson(t,e){var n;let r=null!==(n=null==e?void 0:e.retries)&&void 0!==n?n:2,c=null;for(let n=0;n<=r;n+=1)try{let n=await fetchWithTimeout(t,{timeoutMs:null==e?void 0:e.timeoutMs});if(!n.ok){let e=await n.text().catch(()=>""),r={status:n.status,message:e||n.statusText||"API грешка",url:t};throw r}return await n.json()}catch(t){if(c=t,n<r){await function(t){return new Promise(e=>setTimeout(e,t))}(350*Math.pow(2,n));continue}throw t}throw c}n.d(e,{Nf:function(){return fetchAnnouncements},el:function(){return fetchApiHealth},tm:function(){return fetchNav},H6:function(){return fetchPage},ux:function(){return fetchPostById},T6:function(){return fetchPosts},IN:function(){return fetchSite},bR:function(){return getApiBaseUrl}});let r="http://localhost:8000";if(!r)throw Error("NEXT_PUBLIC_API_BASE_URL није подешен.");let getApiBaseUrl=()=>r;function fetchApiHealth(){return apiGetJson("".concat(r,"/health/"),{timeoutMs:3e3,retries:1})}function fetchSite(){return apiGetJson("".concat(r,"/api/v1/site/"))}function fetchNav(){return apiGetJson("".concat(r,"/api/v1/nav/"))}function fetchPage(t){return apiGetJson("".concat(r,"/api/v1/pages/").concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString();return apiGetJson("".concat(r,"/api/v1/posts/").concat(n?"?".concat(n):""))}function fetchPostById(t){return apiGetJson("".concat(r,"/api/v1/posts/").concat(t,"/"))}function fetchAnnouncements(){return apiGetJson("".concat(r,"/api/v1/announcements/"))}},622:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),c=Symbol.for("react.element"),i=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function q(t,e,n){var r,i={},s=null,l=null;for(r in void 0!==n&&(s=""+n),void 0!==e.key&&(s=""+e.key),void 0!==e.ref&&(l=e.ref),e)o.call(e,r)&&!u.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===i[r]&&(i[r]=e[r]);return{$$typeof:c,type:t,key:s,ref:l,props:i,_owner:a.current}}e.Fragment=i,e.jsx=q,e.jsxs=q},7437:function(t,e,n){"use strict";t.exports=n(622)}},function(t){t.O(0,[971,472,560],function(){return t(t.s=3357)}),_N_E=t.O()}]);