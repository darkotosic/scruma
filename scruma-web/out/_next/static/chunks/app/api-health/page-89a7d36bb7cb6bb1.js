(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[817],{3357:function(t,e,n){Promise.resolve().then(n.bind(n,4042))},4042:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ApiHealthPage}});var r=n(7437),c=n(2265),o=n(8386),i=n(6454);function ApiHealthPage(){let{t}=(0,o.G)(),[e,n]=(0,c.useState)("Провера API везе је у току...");return(0,c.useEffect)(()=>{(0,i.el)().then(t=>n("ok"===t.status?"API је доступан.":"API није доступан.")).catch(()=>n("API није доступан."))},[]),(0,r.jsxs)("section",{children:[(0,r.jsx)("h1",{children:t("API дијагностика")}),(0,r.jsxs)("p",{children:[t("Базни URL:")," ",(0,i.bR)()]}),(0,r.jsx)("p",{children:t(e)})]})}},8386:function(t,e,n){"use strict";n.d(e,{K:function(){return ScriptProvider},G:function(){return useScript}});var r=n(7437),c=n(2265);let o={а:"a",А:"A",б:"b",Б:"B",в:"v",В:"V",г:"g",Г:"G",д:"d",Д:"D",ђ:"đ",Ђ:"Đ",е:"e",Е:"E",ж:"ž",Ж:"Ž",з:"z",З:"Z",и:"i",И:"I",ј:"j",Ј:"J",к:"k",К:"K",л:"l",Л:"L",љ:"lj",Љ:"Lj",м:"m",М:"M",н:"n",Н:"N",њ:"nj",Њ:"Nj",о:"o",О:"O",п:"p",П:"P",р:"r",Р:"R",с:"s",С:"S",т:"t",Т:"T",ћ:"ć",Ћ:"Ć",у:"u",У:"U",ф:"f",Ф:"F",х:"h",Х:"H",ц:"c",Ц:"C",ч:"č",Ч:"Č",џ:"dž",Џ:"Dž",ш:"š",Ш:"Š"},toLatin=t=>t.split("").map(t=>{var e;return null!==(e=o[t])&&void 0!==e?e:t}).join(""),i=(0,c.createContext)(null);function readScript(){let t=localStorage.getItem("script");return"latn"===t?"latn":"cyrl"}function ScriptProvider(t){let{children:e}=t,[n,o]=(0,c.useState)("cyrl"),setScript=t=>{o(t),localStorage.setItem("script",t),document.documentElement.setAttribute("data-script",t)};(0,c.useEffect)(()=>{let t=readScript();o(t),document.documentElement.setAttribute("data-script",t);let onStorage=t=>{if("script"===t.key){let t=readScript();o(t),document.documentElement.setAttribute("data-script",t)}};return window.addEventListener("storage",onStorage),()=>window.removeEventListener("storage",onStorage)},[]);let s=(0,c.useMemo)(()=>({script:n,setScript,t:t=>"latn"===n?toLatin(t):t}),[n]);return(0,r.jsx)(i.Provider,{value:s,children:e})}function useScript(){let t=(0,c.useContext)(i);if(!t)throw Error("useScript мора бити коришћен унутар <ScriptProvider>.");return t}},6454:function(t,e,n){"use strict";n.d(e,{H6:function(){return fetchPage},IN:function(){return fetchSite},Nf:function(){return fetchAnnouncements},T6:function(){return fetchPosts},bR:function(){return getApiBaseUrl},el:function(){return fetchApiHealth},qD:function(){return fetchSiteSettings},ux:function(){return fetchPostById}});let r=("https://scruma-api.onrender.com".trim()||"https://scruma-api.onrender.com").replace(/\/+$/,""),getApiBaseUrl=()=>r;async function fetchJson(t,e){let n="".concat(r).concat(t.startsWith("/")?"":"/").concat(t),c=await fetch(n,{...e,headers:{Accept:"application/json",...(null==e?void 0:e.headers)||{}},cache:"no-store"});if(!c.ok){let t=await c.text().catch(()=>"");throw Error("API ".concat(c.status," ").concat(c.statusText,": ").concat(t||n))}return await c.json()}function fetchApiHealth(){return fetchJson("/health/")}function fetchSite(){return fetchJson("/api/v1/site/")}async function fetchSiteSettings(){let t=await fetchSite();return t.settings||{}}function fetchPage(t){return fetchJson("/api/v1/pages/".concat(t.replace(/^\/+|\/+$/g,""),"/"))}function fetchPosts(t){let e=new URLSearchParams;t.type&&e.set("type",t.type),t.limit&&e.set("limit",String(t.limit));let n=e.toString()?"?".concat(e.toString()):"";return fetchJson("/api/v1/posts/".concat(n))}function fetchPostById(t){return fetchJson("/api/v1/posts/".concat(t,"/"))}function fetchAnnouncements(){return fetchJson("/api/v1/announcements/")}},622:function(t,e,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),c=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function q(t,e,n){var r,o={},a=null,f=null;for(r in void 0!==n&&(a=""+n),void 0!==e.key&&(a=""+e.key),void 0!==e.ref&&(f=e.ref),e)i.call(e,r)&&!u.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:c,type:t,key:a,ref:f,props:o,_owner:s.current}}e.Fragment=o,e.jsx=q,e.jsxs=q},7437:function(t,e,n){"use strict";t.exports=n(622)}},function(t){t.O(0,[971,472,560],function(){return t(t.s=3357)}),_N_E=t.O()}]);